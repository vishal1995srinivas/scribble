{"version":3,"file":"static/webpack/static/development/pages/index.js.7ccd555eb148bd3a9d45.hot-update.js","sources":["webpack:///./components/Post.js","webpack:///./components/Posts.js","webpack:///./components/styles/PostStyles.js","webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Link from 'next/link';\nimport Title from './styles/Title';\nimport PostStyles from './styles/PostStyles';\n\n// import DeletePost from './DeletePost';\n\nexport default class Post extends Component {\n\tstatic propTypes = {\n\t\tpost: PropTypes.object.isRequired\n\t};\n\n\trender() {\n\t\tconst { post } = this.props;\n\t\treturn (\n\t\t\t<PostStyles>\n\t\t\t\t{post.image && <img src={post.image} alt={post.title} />}\n\t\t\t\t<Title>\n\t\t\t\t\t<Link\n\t\t\t\t\t\thref={{\n\t\t\t\t\t\t\tpathname: '/post',\n\t\t\t\t\t\t\tquery: { id: post.id }\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<a>{post.title}</a>\n\t\t\t\t\t</Link>\n\t\t\t\t</Title>\n\t\t\t\t<PriceTag>{formatMoney(post.price)}</PriceTag>\n\t\t\t\t<p>{post.description}</p>\n\n\t\t\t\t<div className=\"buttonList\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\thref={{\n\t\t\t\t\t\t\tpathname: 'update',\n\t\t\t\t\t\t\tquery: { id: post.id }\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<a>Edit ✏️</a>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<AddToCart id={post.id} />\n\t\t\t\t\t{/* <DeletePost id={post.id}>Delete This post</DeletePost> */}\n\t\t\t\t</div>\n\t\t\t</PostStyles>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport styled from 'styled-components';\nimport Post from './Post';\nimport Pagination from './Pagination';\nimport { perPage } from '../config';\n\nconst ALL_POSTS_QUERY = gql`\n\tquery ALL_POSTS_QUERY($skip: Int=0, $first: Int= ${perPage}) {\n\t\tposts(first: $first, skip: $skip, orderBy:createdAt_DESC) {\n\t\t\tid\n\t\t\ttitle\n\t\t\tprice\n\t\t\tdescription\n\t\t\timage\n\t\t\tlargeImage\n\t\t}\n\t}\n`;\nconst Center = styled.div`text-align: center;`;\nconst PostsList = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgrid-gap: 60px;\n\tmax-width: ${(props) => props.theme.maxWidth};\n\tmargin: 0 auto;\n`;\nclass Posts extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<Center>\n\t\t\t\t<Pagination page={this.props.page} />\n\t\t\t\t<Query\n\t\t\t\t\tquery={ALL_POSTS_QUERY}\n\t\t\t\t\tvariables={{ skip: this.props.page * perPage - perPage, first: perPage }}\n\t\t\t\t>\n\t\t\t\t\t{({ data, error, loading }) => {\n\t\t\t\t\t\tif (loading) return <p>Loading...</p>;\n\t\t\t\t\t\tif (error) return <p>Error: {error.message}</p>;\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\treturn <PostsList>{data.posts.map((post) => <Post post={post} key={post.id} />)}</PostsList>;\n\t\t\t\t\t}}\n\t\t\t\t</Query>\n\t\t\t\t<Pagination page={this.props.page} />\n\t\t\t</Center>\n\t\t);\n\t}\n}\nexport default Posts;\nexport { ALL_POSTS_QUERY };\n","import styled from 'styled-components';\n\nconst Item = styled.div`\n\tbackground: white;\n\tborder: 1px solid ${(props) => props.theme.offWhite};\n\tbox-shadow: ${(props) => props.theme.bs};\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-color: transparent; /* outer border of the border making transparent. */\n\timg {\n\t\twidth: 100%;\n\t\theight: 400px;\n\t\tobject-fit: cover;\n\t}\n\tp {\n\t\tline-height: 2;\n\t\tfont-weight: 300;\n\t\tflex-grow: 1;\n\t\tpadding: 0 3rem;\n\t\tfont-size: 1.5rem;\n\t}\n\t.buttonList {\n\t\tdisplay: grid;\n\t\twidth: 100%;\n\t\tborder-top: 1px solid ${(props) => props.theme.lightgrey};\n\t\tgrid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n\t\tgrid-gap: 1px;\n\t\tbackground: ${(props) => props.theme.lightgrey};\n\t\t& > * {\n\t\t\tbackground: white;\n\t\t\tborder: 0;\n\t\t\tfont-size: 1rem;\n\t\t\tpadding: 1rem;\n\t\t}\n\t}\n`;\n\nexport default Item;\n","import Link from 'next/link';\nimport Posts from '../components/Posts';\nconst Home = (props) => (\n\t<div>\n\t\t<Posts page={parseFloat(props.query.page) || 1} />\n\t</div>\n);\n\nexport default Home;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;AAKA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AArCA;AACA;AADA;AAEA;AADA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAYA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAEA;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAnBA;AACA;AAoBA;;;;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAoBA;AAAA;AAGA;AAAA;AAUA;;;;;;;;;;;;;;;;;;;;ACtCA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AACA;AAKA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}